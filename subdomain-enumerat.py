

import requests #type: ignore
import sys 

sub_list = open("C:/Users/Akshay/Github-project/Python-for-pentester/subdomains.txt").read() 
subdoms = sub_list.splitlines()

for sub in subdoms:
    sub_domains = f"http://{sub}.{sys.argv[1]}" 

    try:
        requests.get(sub_domains)
    
    except requests.ConnectionError: 
        pass
    
    else:
        print("Valid domain: ",sub_domains)


"""
#from chatGPT

import requests
import sys

def main():
    if len(sys.argv) != 2:
        print("Usage: python script.py <domain>")
        return

    domain = sys.argv[1]
    subdomains_file = "C:/Users/Akshay/Github-project/Python-for-pentester/subdomains.txt"

    try:
        with open(subdomains_file) as file:
            subdomains = file.read().splitlines()

        for sub in subdomains:
            url = f"http://{sub}.{domain}"
            try:
                response = requests.get(url, timeout=5)
                if response.ok:
                    print("Valid domain:", url)
            except (requests.ConnectionError, requests.Timeout):
                pass

    except FileNotFoundError:
        print(f"File '{subdomains_file}' not found.")

if __name__ == "__main__":
    main()
"""
