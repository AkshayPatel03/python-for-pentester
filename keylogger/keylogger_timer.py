import keyboard
import time

def record_keys(duration=10):
    """
    Record keystrokes for a specified duration.

    Args:
    - duration (float): Recording duration in seconds. Default is 10 seconds.

    Returns:
    - list: List of recorded keystrokes.
    """
    print(f"Recording keystrokes for {duration} seconds...")
    start_time = time.time()
    keys = []
    try:
        while True:
            # Record keys until duration is reached
            if time.time() - start_time >= duration:
                break
            keys.append(keyboard.read_event(suppress=True))
    except KeyboardInterrupt:
        pass
    print("Recording stopped.")
    return keys

def play_keys(keys):
    """
    Replay the recorded keystrokes.

    Args:
    - keys (list): List of recorded keystrokes.
    """
    print("Replaying keystrokes...")
    try:
        keyboard.play(keys)
    except KeyboardInterrupt:
        pass
    print("Playback stopped.")

if __name__ == "__main__":
    duration = float(input("Enter recording duration in seconds (default is 10): ") or 10)
    keys = record_keys(duration)
    if keys:
        play_keys(keys)